
R version 2.5.0 (2007-04-23)
Copyright (C) 2007 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> #######################
> ## This simulated data was created by Sergey Laptenok.
> #######################
> 
> #######################
> ## Note that in order to plot these results, the packages 
> ## "gclus" and "fields" must be installed from CRAN --- 
> ## under the Windows RGui, choose "Install packages from CRAN"
> ## under the Package menu and install these packages before optimizing.
> ## Under Linux/Unix-alikes, as su say 
> ## install.packages("fields", "gclus") in R 
> #######################
> 
> ## uncomment 2 lines below if gclus and fields are installed 
> ## require(gclus)
> ## require(fields) 
> require(TIMP)
Loading required package: TIMP
Loading required package: tcltk
Loading Tcl/Tk interface ... done
Loading required package: vcd
Loading required package: MASS
Loading required package: grid
Loading required package: colorspace
Loading required package: fields
fields is loaded use help(fields) for an overview of this library
Loading required package: gplots
Loading required package: gtools
Loading required package: gdata

Attaching package: 'gplots'


	The following object(s) are masked from package:stats :

	 lowess 

Loading required package: splines
[1] TRUE
> 
> ## read in a vector (stored in an ascii file) representing a measured IRF
> measuredIRF <-scan("xtoh_256.txt")
Read 256 items
> 
> ## Subtract a baseline in the IRF
> measuredIRFcor <- baseIRF(measuredIRF, 100, 150) 
> 
> ## read in simulated FLIM data; note that the FLIM format is documented 
> ## at http://www.nat.vu.nl/~kate/FLIM_format/ 
> serT<-readData("25_650-75_2700.txt")
Read 1 item
Read 155217 items
> 
> ## selected a section of the dataset 
> selSerT<-preProcess(serT, sel_time=c(33,230))
> 
> ## Note that parmu in the context of a measured IRF represents 
> ## and IRF shift parameter.  
> ## Options for numerical convolution algorithms are 1-4
> ## Algorithm 1 seems to have the best performace.
> 
> modelC<- initModel(mod_type = "kin", 
+ kinpar=c(2, 0.4), convalg = 1, parmu = list(0),  
+ measured_irf = measuredIRFcor,   
+ seqmod=FALSE, positivepar=c("kinpar"),
+ makeps="2_05_1", 
+ title="Sergey convolve test")
> 
> ## uncomment below to test FLIM plotting if 
> ## gclus and fields are installed 
> ## serRes<-fitModel(list(selSerT), modelC, 
> ## opt=list(iter=0, linrange = 10,
> ## makeps = "2_05_1", 
> ## notraces = TRUE, 
> ## xlab = "time (ns)", ylab = "pixel number", 
> ## FLIM=list()))
> 
> serRes<-fitModel(list(selSerT), list(modelC), 
+ opt=kinopt(iter=1, linrange = 10,
+ makeps = "2_05_1", 
+ notraces = TRUE, 
+ xlab = "time (ns)", ylab = "pixel number", 
+ plot=FALSE))
138649481 :   0.6931472 -0.9162907  0.0000000 
  It.   1, fac=           1, eval (no.,total): ( 1,  1): new dev = 1.32133e+08
132132539 :  -0.20484438 -1.26784902  0.08506906 
Warning message:
number of iterations exceeded maximum of 1 
> 
> 
> 
> 
> 
> 
